/* jssdk-p.js 2023-10-30 10:09 17162e75bbf528c72a1f2146339a2ac72b0b7e53 */
!function(){"use strict";var c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function o(e){return e.map(function(e){return null==e?void 0:e.trim()}).filter(Boolean).join(",").replace(/,+/g,",").replace(/\s*,\s*/g,",").replace(/\s+/g," ").replace(/^,|,$/g,"")}var l=function(e){var t=e.keywords,n=e.charLimitCount,e=e.queryParamKey;return(t=o(t).substring(0,n))?"".concat(e||"keywords","=").concat(encodeURIComponent(t)):void 0},u=["param1","param2","param3","subid","subid_1","subid_2","subid_3","subid_4","subid_5","extid","xhid","abt","xoc","xvr","xsrc","xprf","xch","xou","xma","xtype"];function d(e){var e=void 0===(e=(e||{}).collectFromPath)||e,t=function(){for(var e=document.getElementsByTagName("meta"),t=[],n=0;n<e.length;n++){var o=e[n].getAttribute("name");"description"!==o&&"keywords"!==o||(o=e[n].getAttribute("content"))&&t.push(o)}return t}();return document.title&&t.push(document.title),e&&t.push.apply(t,function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}([],s((e=(e=window.location.pathname.split("/"))[e.length-1].split(/[?#]/)[0])&&e.replace(/(x?html?)$/gi,"").match(/([a-zA-Z0-9]+)/g)||[]),!1)),o(t)}var p=void 0,m=1,f=21600,g="ts_popunder",v="a:not([target])",b="tabunder",h={BASE_ROTATOR_URL: "//tsyndicate.com/api/v1/direct/"},w="p.js";function y(e){return null==(e=null==e?void 0:e.trim().replace(/\s+/g,"").split(",").filter(Boolean))?void 0:e.flatMap(function(e){return".".concat(e,",#").concat(e).split(",")})}function k(e){return null==e?void 0:e.split(",").map(function(e){return e.trim()}).filter(Boolean)}function x(e){return e&&!Number.isNaN(Number(e))?parseInt(String(e),10):void 0}function e(t){var n,o,i,e,r,a=t.cookieName,c="".concat(a,"-cnt"),s="".concat(a,"-firstDelay");PUENGINE?(n=function(e){PUENGINE.Cookie.set(c,e,t.sessionDurationInSeconds)},o=function(){var e=new Date(PUENGINE.Cookie.get(a)),t=new Date,e=e.getTime()-t.getTime();setTimeout(i,e)},i=function(){t.firstDelay&&PUENGINE.Cookie.set(s,!0,t.firstDelay),n(0);var e=new Date;e.setSeconds(e.getSeconds()+t.sessionDurationInSeconds),PUENGINE.Cookie.set(a,e,t.sessionDurationInSeconds),o()},r=function(){return Number(PUENGINE.Cookie.get(c)||0)},((e=function(){return Boolean(PUENGINE.Cookie.get(a))})()?o:i)(),PUENGINE.config({safe:!0,perpage:9999,bindTo:t.allowedSelectors,ignoreTo:t.ignoredSelectors,coverScrollbar:!1,delay:t.delayInMillis}).add(t.url,{newTab:"tabunder"===t.type||"tabup"===t.type,under:"tabunder"===t.type,cookieExpires:-1,cookieName:"".concat(t.cookieName,"-base"),beforeOpen:function(){n(r()+1)},shouldFire:function(){return e()||i(),!PUENGINE.Cookie.get(s)&&r()<t.countPerSession}})):console.warn("no pu script")}var t,n=navigator.userAgent.toLowerCase(),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substring(0,4)),r=(/tablet|ipad|(android(?!.*mobile))/.test(n)||/samsung|kindle|nexus|gt-p|sm-t|sgp|a1_07/.test(n))&&!i,a=/chrome/gi.test(n)||(i||r)&&/CriOS/gi.test(n),E=/safari/gi.test(n)&&!a,N=(parseInt((E?n.match(/.+?(?:on|ri)[\/: ]([\d.]+)/)||[]:n.match(/.+(?:ox|me|ra|ie|opr|rv|crios)[\/: ]([\d.]+)/)||[])[1],10),(E=t=t||{}).TABLET="tablet",E.DESKTOP="desktop",E.MOBILE="mobile",function(){var e,t,n,o,i,r,a=function(){var e=window.dataPopUnder;if(e&&0<Object.keys(e).length)return c({},e);e=function(){for(var e,t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var o=t[n],i=o.src.split("/"),i=i[i.length-1],i=h.IS_DEV?"p3p.js"===i||"p.fallback.js"===i:"p.js"===i,r=o.getAttribute("data-ts-spot")||o.getAttribute("data-id"),a=o.getAttribute("data-ts-redirect");i&&(Boolean(r)||Boolean(a))&&(e=o)}return e}();if(e)return function(e){for(var t=e.attributes,n={spot:""},o=0;o<t.length;o++){var i=t[o],r=i.name;-1!==r.indexOf("data-ts")&&(r=r.replace("data-ts-","")),n[r="data-id"===r?"spot":r]=i.value}return n}(e);return}();if(a)return a=function(e){var t=function(e){var t=x(e["cookie-expires"]),e=x(e["session-duration"]||e["cookie-expires-in-seconds"]);if(t&&0<t&&!e)return 60*t*60;return void 0!==e&&0<e?e:f}(e),t={spot:e.spot,categories:e.categories,redirect:e.redirect?function(e){return/^(f|ht)tps?:\/\//i.test(e)?"/"===e.slice(-1)?e:"".concat(e,"/"):"/"===e.slice(-1)?"http://".concat(e):"http://".concat(e,"/")}(e.redirect):"",param1:e.param1,param2:e.param2,param3:e.param3,subid:e.subid,subid_1:e.subid_1,subid_2:e.subid_2,subid_3:e.subid_3,subid_4:e.subid_4,subid_5:e.subid_5,xhid:e.xhid,extid:e.extid,ignoredSelectors:function(e){if(e["ignored-selectors"])return k(e["ignored-selectors"]);if(e["ignore-filter"])return y(e["ignore-filter"]);return}(e),allowedSelectors:function(e){var t;if(e["allowed-selectors"])return k(e["allowed-selectors"]);var n="selective"===e.mode;if(e["include-filter"])return e=y(e["include-filter"]),n?null!=(t=null==e?void 0:e.map(function(e){return"a".concat(e,":not([target])")}))?t:[v]:e;if(n)return[v];return p}(e),sessionDuration:t,cookieName:e["cookie-name"]||g,count:function(e){e=x(e.count||e["pops-per-page"]);return void 0!==e&&0<e?e:m}(e),type:function(e){switch(e.type){case"tabup":case"tabunder":case"popup":return e.type;default:return b}}(e),delayInMillis:function(e,t){e=x(e.delay);return void 0!==e&&e<t?1e3*e:void 0}(e,t),firstDelay:function(e,t){e=x(e["first-delay"]);return void 0!==e&&e<t?e:void 0}(e,t),devices:k(e.devices),excludeChrome:Boolean(e["exclude-chrome"])};void 0!==e.campaignid&&(t.redirect="".concat(h.BASE_ROTATOR_URL,"campaign/{spot}"),t.spot=e.campaignid,void 0!==e.bannerid&&(t.redirect+="/".concat(e.bannerid)),t.redirect+="/test");return t}(a),e=a,t=function(){var e=window.screen||{width:0},t=window.devicePixelRatio||1;return e.width*t}(),n=function(){var e=window.screen||{height:0},t=window.devicePixelRatio||1;return e.height*t}(),o=(new Date).getTimezoneOffset(),i=function(e){var t;if(Boolean(0<=(null!=(t=e.redirect)?t:"").indexOf("{spot}"))&&e.spot)return(null!=(t=e.redirect)?t:"").replace("{spot}",e.spot);return"".concat(e.redirect||h.BASE_ROTATOR_URL).concat(e.spot)}(e),r=function(n,e){var o=void 0===(e=(void 0===e?{}:e).fallbackValues)?{}:e;return u.map(function(e){var t;return[e,null!=(t=n[e])?t:o[e]]}).map(function(e){var t=(e=s(e,2))[0];return(e=e[1])?"".concat(t,"=").concat(e):""}).filter(Boolean).join("&")}(e,{fallbackValues:{param3:w}}),t=[t?"w=".concat(t):"",n?"h=".concat(n):"",o?"tz=".concat(o):"",l({queryParamKey:"categories",keywords:[e.categories,d()]})].filter(Boolean).join("&"),{url:"".concat(i,"?").concat(r,"&").concat(t),sessionDurationInSeconds:a.sessionDuration,countPerSession:a.count,ignoredSelectors:a.ignoredSelectors,allowedSelectors:a.allowedSelectors,cookieName:a.cookieName,delayInMillis:a.delayInMillis,firstDelay:a.firstDelay,type:a.type,devices:a.devices,excludeChrome:a.excludeChrome}}());null!=N&&N.url&&(E=(n=N).excludeChrome,n=n.devices,!E||!a)&&(!n||!n.length||i&&n.includes(t.MOBILE)||r&&n.includes(t.TABLET)||!i&&!r&&n.includes(t.DESKTOP))?((E=document.createElement("script")).src="https://cdn.tsyndicate.com/sdk/v1/puengine.js",E.defer=!0,E.addEventListener("load",function(){e(N)}),document.head.appendChild(E)):console.warn("no pu url")}();